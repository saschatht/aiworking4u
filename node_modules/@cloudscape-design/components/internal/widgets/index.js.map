{"version":3,"file":"index.js","sourceRoot":"","sources":["../../../../src/internal/widgets/index.tsx"],"names":[],"mappings":"AAAA,qEAAqE;AACrE,sCAAsC;AACtC,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,aAAa,EAAE,MAAM,uBAAuB,CAAC;AACtD,OAAO,EAAE,gBAAgB,EAAE,MAAM,0BAA0B,CAAC;AAK5D,MAAM,UAAU,yBAAyB,CAA2C,cAAyB;IAC3G,OAAO,CAAC,MAAkB,EAAa,EAAE;QACvC,OAAO,CAAC,KAAK,CAAC,EAAE;YACd,MAAM,SAAS,GAAG,gBAAgB,EAAE,CAAC;YACrC,IAAI,SAAS,IAAI,aAAa,CAAC,iBAAiB,CAAC,IAAI,MAAM,EAAE;gBAC3D,OAAO,oBAAC,MAAM,oBAAM,KAAa,EAAI,CAAC;aACvC;YAED,OAAO,oBAAC,cAAc,oBAAM,KAAa,EAAI,CAAC;QAChD,CAAC,CAAc,CAAC;IAClB,CAAC,CAAC;AACJ,CAAC;AAED,MAAM,UAAU,0BAA0B,CAIxC,cAAyB;IACzB,OAAO,CAAC,MAAkB,EAAa,EAAE;QACvC,OAAO,KAAK,CAAC,UAAU,CAAiB,CAAC,KAAK,EAAE,GAAG,EAAE,EAAE;YACrD,MAAM,SAAS,GAAG,gBAAgB,EAAE,CAAC;YACrC,IAAI,SAAS,IAAI,aAAa,CAAC,iBAAiB,CAAC,IAAI,MAAM,EAAE;gBAC3D,OAAO,oBAAC,MAAM,kBAAC,GAAG,EAAE,GAAG,IAAO,KAAa,EAAI,CAAC;aACjD;YAED,OAAO,oBAAC,cAAc,kBAAC,GAAG,EAAE,GAAG,IAAO,KAAa,EAAI,CAAC;QAC1D,CAAC,CAAc,CAAC;IAClB,CAAC,CAAC;AACJ,CAAC","sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport React from 'react';\nimport { getGlobalFlag } from '../utils/global-flags';\nimport { useVisualRefresh } from '../hooks/use-visual-mode';\n\n// Built-in React.FunctionComponent has always present `children` property which is not desired\ntype FunctionComponent<Props> = (props: Props) => JSX.Element;\n\nexport function createWidgetizedComponent<Component extends FunctionComponent<any>>(Implementation: Component) {\n  return (Loader?: Component): Component => {\n    return (props => {\n      const isRefresh = useVisualRefresh();\n      if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {\n        return <Loader {...(props as any)} />;\n      }\n\n      return <Implementation {...(props as any)} />;\n    }) as Component;\n  };\n}\n\nexport function createWidgetizedForwardRef<\n  Props,\n  RefType,\n  Component extends React.ForwardRefExoticComponent<Props & React.RefAttributes<RefType>>,\n>(Implementation: Component) {\n  return (Loader?: Component): Component => {\n    return React.forwardRef<RefType, Props>((props, ref) => {\n      const isRefresh = useVisualRefresh();\n      if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {\n        return <Loader ref={ref} {...(props as any)} />;\n      }\n\n      return <Implementation ref={ref} {...(props as any)} />;\n    }) as Component;\n  };\n}\n"]}