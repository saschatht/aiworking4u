// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import React from 'react';
import { getGlobalFlag } from '../utils/global-flags';
import { useVisualRefresh } from '../hooks/use-visual-mode';
export function createWidgetizedComponent(Implementation) {
    return (Loader) => {
        return (props => {
            const isRefresh = useVisualRefresh();
            if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {
                return React.createElement(Loader, Object.assign({}, props));
            }
            return React.createElement(Implementation, Object.assign({}, props));
        });
    };
}
export function createWidgetizedForwardRef(Implementation) {
    return (Loader) => {
        return React.forwardRef((props, ref) => {
            const isRefresh = useVisualRefresh();
            if (isRefresh && getGlobalFlag('appLayoutWidget') && Loader) {
                return React.createElement(Loader, Object.assign({ ref: ref }, props));
            }
            return React.createElement(Implementation, Object.assign({ ref: ref }, props));
        });
    };
}
//# sourceMappingURL=index.js.map