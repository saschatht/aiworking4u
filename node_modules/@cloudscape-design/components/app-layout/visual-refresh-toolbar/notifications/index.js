// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.
// SPDX-License-Identifier: Apache-2.0
import React, { useEffect, useRef } from 'react';
import clsx from 'clsx';
import { useResizeObserver } from '@cloudscape-design/component-toolkit/internal';
import { NotificationsSlot } from '../skeleton/slot-wrappers';
import { createWidgetizedComponent } from '../../../internal/widgets';
import styles from './styles.css.js';
import testutilStyles from '../../test-classes/styles.css.js';
export function AppLayoutNotificationsImplementation({ appLayoutInternals, children, }) {
    const { ariaLabels, stickyNotifications, setNotificationsHeight, verticalOffsets } = appLayoutInternals;
    const ref = useRef(null);
    useResizeObserver(ref, entry => setNotificationsHeight(entry.borderBoxHeight));
    useEffect(() => {
        return () => {
            setNotificationsHeight(0);
        };
        // unmount effect only
        // eslint-disable-next-line react-hooks/exhaustive-deps
    }, []);
    return (React.createElement(NotificationsSlot, { ref: ref, className: clsx(stickyNotifications && styles['sticky-notifications']), style: {
            insetBlockStart: stickyNotifications ? verticalOffsets.notifications : undefined,
        } },
        React.createElement("div", { className: testutilStyles.notifications, role: "region", "aria-label": ariaLabels === null || ariaLabels === void 0 ? void 0 : ariaLabels.notifications }, children)));
}
export const createWidgetizedAppLayoutNotifications = createWidgetizedComponent(AppLayoutNotificationsImplementation);
//# sourceMappingURL=index.js.map